# .bashrc with stuff for OS X only


which brew >/dev/null
if [ "$?" = "0" ]; then
BREW_PREFIX=$(brew --prefix)

# z
if [ -f $BREW_PREFIX/etc/profile.d/z.sh ]; then
    . $BREW_PREFIX/etc/profile.d/z.sh
fi

# Bash completion
if [ -f $BREW_PREFIX/etc/bash_completion ]; then
    . $BREW_PREFIX/etc/bash_completion
fi

# see github.com/bfontaine/brew-command-not-found
eval "$(brew command-not-found-init)"

# Enable Homebrew developers-specific warnings/features
export HOMEBREW_DEVELOPER=1

# end of brew-related stuff
fi

# Set the color for directories in 'ls' output to bold cyan
export LSCOLORS=Gxfxcxdxbxegedabagacad

which safe-rm >/dev/null
if [ "$?" = "0" ]; then
  alias rm='safe-rm'
fi

# Programming

export JAVA_HOME="/Library/Java/JavaVirtualMachines/jdk1.7.0_40.jdk/Contents/Home/"

# common aliases
alias l='ls -FGhg'
alias ll='ls -FGhgl'

# OSX-specific aliases
alias b='brew'

# usage:
# 1. copy an URL
# 2. use it as `curl` but without pasting the URL, e.g.: pcurl > foo.bar
pcurl() { curl -sL "`pbpaste`" $*; }

if [ -f "$HOME/.bash_utils/wrap_alias.sh" ]; then
# get completion for aliases too
. $HOME/.bash_utils/wrap_alias.sh
fi

# pyenv
if which pyenv > /dev/null; then
    export PATH="$HOME/.pyenv/shims:$PATH"
    eval "$(pyenv init -)";
fi

# Go
export GOPATH="$HOME/Documents/Programmation/Go"
export PATH="$GOPATH/bin:$PATH:/usr/local/opt/go/libexec/bin"

# RVM
if [[ -s  "$HOME/.rvm/scripts/rvm" ]]; then
  . "$HOME/.rvm/scripts/rvm"
  export PATH="$PATH:$HOME/.rvm/bin" # Add RVM to PATH for scripting
fi

export MACOSX_DEPLOYMENT_TARGET=10.11

# Node
export NODE_PATH="/usr/local/lib/node_modules:$NODE_PATH"

alias downcase-cd='cd $(pwd | tr "[:upper:]" "[:lower:]")'

export BROWSER='open'
