# .bashrc with stuff for OS X only

BREW_PREFIX=$(brew --prefix)

# Set the color for directories in 'ls' output to bold cyan
export LSCOLORS=Gxfxcxdxbxegedabagacad

# z
if [ -f $BREW_PREFIX/etc/profile.d/z.sh ]; then
    . $BREW_PREFIX/etc/profile.d/z.sh
fi

# Bash completion
if [ -f $BREW_PREFIX/etc/bash_completion ]; then
    . $BREW_PREFIX/etc/bash_completion
fi

# local websites
# see blog.bfontaine.net/2013/08/26/use-a-custom-tld-for-local-development/
if [ -d $HOME/www-dev/vhosts ]; then

# Usage: add_vhost <domain> <relative path>
# e.g.:  $ add_vhost foo.dev foo/site
function add_vhost() {
     local name="$HOME/www-dev/vhosts/$1";shift
     local target="$PWD/$1"

     if [ -e $name ]; then
         echo "$name already exists.";
     else
        ln -s $target $name
     fi
}
fi

alias rm='safe-rm'

# same alias name that on Ubuntu but with different commands
alias mt='brew update; brew upgrade'

# Programming
alias emacs='emacs-24.3'
alias prove='prove5.12'

alias es="elasticsearch -f -D \
    es.config=$BREW_PREFIX/opt/elasticsearch/config/elasticsearch.yml"

# common aliases
alias l='ls -FGhg'
alias ll='ls -FGhgl'

# OSX-specific aliases
alias b='brew'
alias o='open'

# usage:
# 1. copy an URL
# 2. use it as `curl` but without pasting the URL, e.g.: pcurl > foo.bar
pcurl() { curl -sL "`pbpaste`" $*; }

# nvm
. $(brew --prefix nvm)/nvm.sh

# get completion for aliases too
. $HOME/.bash_utils/wrap_alias.sh
