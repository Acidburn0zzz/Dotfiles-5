# .bashrc with stuff for OS X only

BREW_PREFIX=$(brew --prefix)

# Set the color for directories in 'ls' output to bold cyan
export LSCOLORS=Gxfxcxdxbxegedabagacad

# z
if [ -f $BREW_PREFIX/etc/profile.d/z.sh ]; then
    . $BREW_PREFIX/etc/profile.d/z.sh
fi

# Bash completion
if [ -f $BREW_PREFIX/etc/bash_completion ]; then
    . $BREW_PREFIX/etc/bash_completion
fi

alias rm='safe-rm'

# same alias name that on Ubuntu but with different commands
alias mt='brew update; brew upgrade'

# Programming
alias emacs='emacs-24.3'
alias prove='prove5.12'

alias es="elasticsearch -f -D \
    es.config=$BREW_PREFIX/opt/elasticsearch/config/elasticsearch.yml"

# common aliases
alias l='ls -FGhg'
alias ll='ls -FGhgl'

# OSX-specific aliases
alias b='brew'

alias hemingway='open -a Hemingway\ Editor'

# spotify from terminal
# https://github.com/dronir/SpotifyControl

if [ -f "$HOME/.bash_utils/osascripts/SpotifyControl.scpt" ]; then
    alias spotify="osascript $HOME/.bash_utils/osascripts/SpotifyControl.scpt"
    alias sp='spotify'
fi

# usage:
# 1. copy an URL
# 2. use it as `curl` but without pasting the URL, e.g.: pcurl > foo.bar
pcurl() { curl -sL "`pbpaste`" $*; }

# nvm
. $(brew --prefix nvm)/nvm.sh

# get completion for aliases too
. $HOME/.bash_utils/wrap_alias.sh

# pyenv
if which pyenv > /dev/null; then
    export PATH="$HOME/.pyenv/shims:$PATH"
    eval "$(pyenv init -)";
fi

# see github.com/bfontaine/brew-command-not-found
. "$HOME/.bash_utils/handler.sh"

# Go
export GOPATH="$HOME/.go"
export PATH="$PATH:/usr/local/opt/go/libexec/bin"
export PATH="$GOPATH/bin:$PATH"
